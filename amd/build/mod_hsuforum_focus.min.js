define(["jquery"],function(o){return{init:function(){var t,e,s,n;t="box",e=2e3,s=(new Date).getTime(),n=setInterval(function(){var a=Math.round((new Date).getTime()-s),d=Math.round(a/e*100);d=d>99?99:d,o("#"+t).css("width",d+"px"),o("#"+t).text(d+"%"),a>=e&&clearInterval(n)},100),o(document).ready(function(){window.currentshowposts=1,o("#showmoreposts").on("click",function(t){t.preventDefault(),t.stopPropagation();var e=o(this).find(o(".fa"));e.removeClass("fa-comments").addClass("fa-circle-o-notch fa-spin"),o("#showmoreposts").addClass("disabled");var s=o('<div id="tempDiv_'+window.currentshowposts+'"></div>'),n=o(this).attr("href")+"&shownextposts="+window.currentshowposts;s.load(n+" .hsuforum-thread-replies",null,M.local_hsuforum_actions.init),o(".hsuforum-thread-replies").append(s),e.removeClass("fa-circle-o-notch fa-spin").addClass("fa-comments"),o("#showmoreposts").removeClass("disabled"),window.currentshowposts++,window.currentshowposts>=window.totalposts/window.manyposts&&(o("#showmoreposts").text("All posts loaded"),o("#showmoreposts").addClass("disabled"))})}),window.addEventListener("load",function(){window.setTimeout(function(){o("#pageloadingmodal").hide(),o(".modal-backdrop").fadeOut("slow")},2500)}),window.hascompleted=!1;var a=window.location.hash;window.hascompleted||(a&&(o(a).closest("li").data("depth")>0&&o(a).closest(".posts-collapse-container").addClass("show"),o("html,body").animate({scrollTop:o(a).offset().top-53},1e3)),window.hascompleted=!0),o(".posts-collapse-container").on("hide.bs.collapse",function(){let t=o(this)[0].id;if(void 0!==t){let e=o(`.collapse-top[data-target="#${t}"]`),s=o(e)[0].parentElement;if(void 0!==s){if(s.getBoundingClientRect().y<0){let e=`#${o(s)[0].id}`;o(`#${t}.posts-collapse-container`).on("hidden.bs.collapse",function(){let t=o(e).offset().top-80;o([document.documentElement,document.body]).animate({scrollTop:t},500)})}}}})}}});