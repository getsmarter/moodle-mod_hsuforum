YUI.add("moodle-mod_hsuforum-io",function(i,e){var u=i.Lang,o=M.cfg.wwwroot+"/mod/hsuforum/route.php";function t(){t.superclass.constructor.apply(this,arguments)}t.NAME=e,t.ATTRS={contextId:{value:undefined},url:{value:o,validator:u.isString}},i.extend(t,i.Base,{_complete:function(e,o,t){var n,r={};try{r=i.JSON.parse(o.responseText)}catch(s){return console.log(t),console.log(o),window.response=o,alert(s.name+": "+s.message),n=new Event("hsuforumerror"),void document.body.dispatchEvent(n)}u.isValue(r.error)?alert(r.error):t.fn.call(t.context,r)},send:function(e,o,t,n){u.isString(n)||(n="GET"),u.isUndefined(e.contextid)&&!u.isUndefined(this.get("contextId"))&&(e.contextid=this.get("contextId")),i.io(this.get("url"),{method:n,context:this,arguments:{fn:o,context:t},data:e,on:{complete:this._complete}})},submitForm:function(e,o,t,n){var r,s;u.isBoolean(n)||(n=!1),r={method:"POST",context:this,arguments:{fn:o,context:t},on:{complete:this._complete},form:{id:e.generateID(),upload:n}},n?(s=this.get("url"),i.use("io-upload-iframe",function(){i.io(s,r)})):i.io(this.get("url"),r)}}),M.mod_hsuforum=M.mod_hsuforum||{},M.mod_hsuforum.Io=t},"@VERSION@",{requires:["base","io-base","io-form","io-upload-iframe","json-parse"]});