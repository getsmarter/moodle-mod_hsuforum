YUI.add("moodle-mod_hsuforum-io",function(s,t){var u=s.Lang,e=M.cfg.wwwroot+"/mod/hsuforum/route.php";function o(){o.superclass.constructor.apply(this,arguments)}o.NAME=t,o.ATTRS={contextId:{value:undefined},url:{value:e,validator:u.isString}},s.extend(o,s.Base,{_complete:function(t,e,o){var n,i={};try{i=s.JSON.parse(e.responseText)}catch(r){return window.alert(M.util.get_string("hsuforumsessionerror","hsuforum")),n=new Event("spinnerStopEvent"),void document.body.dispatchEvent(n)}u.isValue(i.error)?window.alert(i.error):o.fn.call(o.context,i)},send:function(t,e,o,n){u.isString(n)||(n="GET"),u.isUndefined(t.contextid)&&!u.isUndefined(this.get("contextId"))&&(t.contextid=this.get("contextId")),s.io(this.get("url"),{method:n,context:this,arguments:{fn:e,context:o},data:t,on:{complete:this._complete}})},submitForm:function(t,e,o,n){var i,r;u.isBoolean(n)||(n=!1),i={method:"POST",context:this,arguments:{fn:e,context:o},on:{complete:this._complete},form:{id:t.generateID(),upload:n}},n?(r=this.get("url"),s.use("io-upload-iframe",function(){s.io(r,i)})):s.io(this.get("url"),i)}}),M.mod_hsuforum=M.mod_hsuforum||{},M.mod_hsuforum.Io=o},"@VERSION@",{requires:["base","io-base","io-form","io-upload-iframe","json-parse"]});